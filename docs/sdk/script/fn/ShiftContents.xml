<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE funcs
  SYSTEM '../../../clonk.dtd'>
<?xml-stylesheet type="text/xsl" href="../../../clonk.xsl"?>
<funcs>
  <func>
    <title>ShiftContents</title>
    <category>Objects</category>
    <subcat>Contents</subcat>
    <version>4.6.5.0 CP<extversion>4.9.1.0 GWE</extversion></version>
    <syntax>
      <rtype>bool</rtype>
      <params>
        <param>
          <type>bool</type>
          <name>shift_back</name>
          <desc>If true, objects will be resorted backwards.</desc>
          <optional />
        </param>
        <param>
          <type>id</type>
          <name>target_id</name>
          <desc>ID of the object type to be in front after the shift. If this parameter is specified, no call to ControlContents will be made. The object will be selected directly and without the selection sound. In this way you can overload the contents switching in ControlContents and add your own sounds or special events.</desc>
          <optional />
        </param>
        <param>
          <type>bool</type>
          <name>no_calls</name>
          <desc>If true, calls to ControlContents and Selection will be made.</desc>
          <optional />
        </param>
      </params>
    </syntax>
    <desc>Resorts the contained objects so the next object with a differing ID will be in front. The most common application for this command is inventory selection.</desc>
    <remark>This command calls the function "ControlContents" in the container object which can be used to overload the selection process. If the function ControlContents does not exist in the container object or returns 0, the function "Selection" will be called in the newly selected inventory object. If the function Selection does not exist in the contained object or returns 0, the engine will play the "Grab" sound effect for the container object (default behaviour for inventory selection). See also <emlink href="definition/script.html">object scripts</emlink>.</remark>
    <remark>Notice: nowadays the function ShiftContents will also play the selection sound. To avoid double playback, object scripts should take this into consideration and not play their own selection sound or move the sound playback to the ControlContents function, as seen below.</remark>
    <examples>
      <example>
        <code>protected func ControlSpecial()
  {
  [Inventarwechsel]
  ShiftContents();
  <funclink>return</funclink> 1;
  }</code>
        <text>Part of an object script. Moves the contents of an object on special key 1.</text>
      </example>
      <example>
        <code>protected func ControlContents(target_id)
  {
  if (!ShiftContents(false, target_id)) <funclink>return</funclink> 1;
  <funclink>Sound</funclink>(&quot;Ding&quot;);
  <funclink>return</funclink> 1;
  }</code>
        <text>Through this object script selecting a new inventory item will play a "Ding" sound.</text>
      </example>
    </examples>
    <related>
      <funclink>ScrollContents</funclink>
      <funclink>ResortObjects</funclink>
    </related>
  </func>
  <author>Sven2</author><date>2002-04</date>
</funcs>
